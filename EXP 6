#include <stdio.h>
struct P { int id, at, bt, rt, pr; } p[10];
int main() {
    int n, time = 0, done = 0, i, minp, minidx;
    printf("Enter number of processes: "); scanf("%d", &n);
    for(i = 0; i < n; i++) {
        p[i].id = i;
        printf("AT, BT, Priority of P%d: ", i);
        scanf("%d%d%d", &p[i].at, &p[i].bt, &p[i].pr);
        p[i].rt = p[i].bt;
    }
    printf("\nGantt Chart:\n");
    while(done < n) {
        minp = 999; minidx = -1;
        for(i = 0; i < n; i++)
            if(p[i].at <= time && p[i].rt > 0 && p[i].pr < minp)
                minp = p[i].pr, minidx = i;
        if(minidx == -1) { time++; continue; }
        printf("|P%d", p[minidx].id);
        p[minidx].rt--; time++;
        if(p[minidx].rt == 0) done++;
    }
    printf("|\n");
    return 0;
}
